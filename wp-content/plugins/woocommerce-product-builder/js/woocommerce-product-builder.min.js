"undefined"!=typeof wc_single_product_params&&(wc_single_product_params.zoom_enabled=1),"undefined"!=typeof wc_single_product_params&&(wc_single_product_params.photoswipe_enabled=1),"undefined"!=typeof woodmartThemeModule&&(woodmart_settings.ajax_add_to_cart=!1),jQuery(document).ready((function(t){"use strict";let e=t("body");e.hasClass("theme-playerx")&&e.addClass("woocommerce-page");const o=()=>{t(".woocommerce-product-gallery").each((function(){t(this).trigger("wc-product-gallery-before-init",[this,wc_single_product_params]),jQuery().wc_product_gallery&&t(this).wc_product_gallery(wc_single_product_params),t(this).trigger("wc-product-gallery-after-init",[this,wc_single_product_params])})),t(".variations_form").each((function(){t(this).wc_variation_form()})),t("body").trigger("quick-view-displayed")},i=o=>{let i=t('<iframe id="woopb-print-frame" name="woopb_print_frame" style="display:none;"></iframe>');i.remove(),e.append(i);let a=frames.woopb_print_frame,r=_woo_product_builder_params.printStyle,n=+_woo_product_builder_params.printDesc,s=t(".woopb-added-products-value").html(),d=0,p=t("<div></div>"),c=(o=Object.values(o)).map((t=>{let e="";for(let o in t){let i=t[o],a=i.quantity||1;d=+d+parseInt(a);let r=n?`<div><small>${i.desc}</small></div>`:"";e+=`<tr>\n                            <td class="woopb-print-img">\n                                <img src="${i.image}" width="100%">\n                            </td>\n                            <td class='woopb-print-title'>\n                                <div>${i.title}</div>\n                                ${r}\n                            </td>\n                            <td class="woopb-print-quantity-col">${a}</td>\n                            <td class="woopb-print-price-col">${i.price}</td>\n                            <td class="woopb-print-subtotal-col">${i.subtotal}</td>\n                        </tr>`}return e})).join("");p.append(t("head meta").clone()),p.append(t("head title").clone()),c=`<div id="woopb-print-frame">\n                            ${_woo_product_builder_params.printHeader}\n                            <table>\n                                <thead >\n                                <tr>\n                                    <th colspan="2" class="woopb-print-product-col">Product</th>\n                                    <th class="woopb-print-quantity-col">Quantity</th>\n                                    <th class="woopb-print-price-col">Price</th>\n                                    <th class="woopb-print-subtotal-col">Subtotal</th>\n                                </tr>\n                                </thead>\n                                <tbody>\n                                ${c}\n                                </tbody>\n                                 <tfoot style="display: table-row-group; ">\n                                    <tr>\n                                        <th colspan="2">Total</th>\n                                        <th>${d}</th>\n                                        <th colspan="2" class="woopb-print-footer-total">${s}</th>\n                                    </tr>\n                                </tfoot>\n                            </table>\n                            ${_woo_product_builder_params.printFooter}\n                        </div>`,c=`<!DOCTYPE html>\n                        <html>\n                            <head>\n                                ${p.html()}\n                                ${r}\n                            </head>\n                            <body>${c}</body>\n                        </html>`,a.document.write(c);let l=t(c).find("img"),u=l.length,h=0;l.on("load",(function(t){h++,h===u&&a.print()})),a.document.close()};if(t.fn.woopbLoading=function(){this.addClass("woopb-loading")},t.fn.woopbDisableLoading=function(){this.removeClass("woopb-loading")},"ajax"===_woo_product_builder_params.templateStyle){let a,r=t('<span class="woopb-loading"> </span>'),n=t('<div id="woopb-waiting-screen"><div class="woopb-waiting-screen-inner"><span class="woopb-loading"> </span></div></div>'),{productTmpl:s,stepTmpl:d,emptyTmpl:p}=_woo_product_builder_params;s=t(s),d=t(d),p=t(p);const c=e=>{let{data:o}=e;delete e.data,t.ajax({url:_woo_product_builder_params.ajax_url,type:"post",dataType:"json",data:{action:"woopb_action",nonce:_woo_product_builder_params.nonce,woopb_id:_woo_product_builder_params.post_id,page_id:_woo_product_builder_params.page_id,step:l.currentStep,...o},error(t){console.log(t)},...e})},l={currentStep:"",page:1,sortBy:"",searchKey:"",minPrice:"",maxPrice:"",replace:"",currentProductQty:"",filterAttributes:{},steps:[],checkDepend:[],getStep(t){return this.steps[t]||""},setCheckDepend(t=[]){this.checkDepend=t},setStep(t,e=!0){let o=this.currentStep;this.steps[o]=t,"function"==typeof this.onChange&&e&&this.onChange()}},u={modalLoading:{isOpen:!1,open(){u.modal.append(r),this.isOpen=!0},close(){r.remove(),this.isOpen=!1}},init(){this.getSetting("enable_multi_select")&&s.find(".woopb-product-select").remove(),this.modal=t("#woopb-modal").on("click",this.closeModalByClick).on("click",".woopb-close-modal",this.closeModal).on("submit","form.variations_form.cart",this.selectVariation).on("submit","form.cart",this.addSingleItem).on("click",".woopb-page-item:not(.woopb-active-page)",this.changePage).on("click",".woopb-mobile-filters-control",this.toggleFilter).on("click",".woopb-close-filter",this.toggleFilter).on("click",".woopb-clear-filter",this.clearFilterAction),this.searchForm=t(".woopb-search").on("keyup",this.search),this.sortForm=t(".woopb-sort").on("change",(()=>this.changeSort())),this.main=t("#woopb-main").on("click",".woopb-load-step:not(.woopb-loading)",this.loadStepProducts).on("change",".woopb-product-quantity-value",this.changeQuantity).on("click",".woopb-product-remove:not(.woopb-loading)",this.removeProduct).on("click",".woopb-product-edit:not(.woopb-loading)",this.loadStepProducts),this.sidebar=t("#woopb-sidebar").on("click",".woopb-add-products-to-cart:not(.woopb-loading)",this.addToCart).on("click",".woopb-get-share-link:not(.woopb-loading)",this.getShareLink).on("click",".woopb-send-to-friend",this.openSendToFriend).on("click",".woopb-remove-all:not(.woopb-loading)",this.removeAll).on("click",".woopb-print-button",this.print).on("click",".woopb-download-pdf-button:not(.woopb-loading)",this.downloadPDF),this.sendMailPopup=t("#vi_wpb_popup_email").on("click",".woopb-close",this.closeSendToFriend).on("click",".vi-wpb_overlay",this.closeSendToFriend),this.filters=t(".woopb-modal-left").on("submit",".woopb-price-filter-form",this.filterPrice).on("click",".woopb-filter-attributes",this.filterAttributes).on("click",".woocommerce-widget-layered-nav-list__item",this.triggerFilterAttributes).on("click",".woopb-filter-rating",this.filterRating),this.total=t(".woopb-added-products-value"),this.waitingLoad(),this.renderSteps(),l.minPrice=this.filters.find("#min_price").val(),l.maxPrice=this.filters.find("#max_price").val(),l.sortBy=this.sortForm.val(),l.onChange=this.replaceStep},waitingLoad(){t("body").append(n)},getSetting:t=>_woo_product_builder_params.config[t]||"",replaceStep(){let t=this.currentStep,e=u.main.find(`.woopb-step[data-step_id=${t}] .woopb-products`),o=this.getStep(t);u.renderStep(e,o)},setTotal(t){this.total.html(t)},renderEmptySteps(){this.main.empty();let t=this.getSetting("tab_title"),e=this.getSetting("step_desc");for(let o in t){let i=t[o],a=e[o],r=d.clone(),n=r.find(".woopb-products"),s=l.getStep(o);a&&(a=a.replace(/\r\n/g,"<br />")),r.attr("data-step_id",+o+1),r.find(".woopb-step-title").text(i),r.find(".woopb-step-desc").html(a),l.currentStep=+o+1,u.renderStep(n,s),this.main.append(r)}},renderStep(t,e){t.empty().hide();let o=t.closest(".woopb-step").find(".woopb-load-step-outer");if(Object.keys(e).length){for(let o in e){let i=e[o];t.append(u.renderProduct(o,i.title,i.quantity,i.image,i.price))}o.show()}else{let e=p.clone(),i=this.getSetting("step_icon")[l.currentStep-1];i?e.find(".woopb-product-thumbnail img").attr("src",i):e.find(".woopb-product-thumbnail img").remove(),t.append(e),o.hide()}t.fadeIn(500)},renderSteps(){this.renderEmptySteps(),c({data:{_action:"get_session"},success(t){if(t.success){n.remove();let{steps:e}=t.data;if(e)for(let t in e){let o=e[t];Object.keys(o).length&&(l.currentStep=t,l.setStep(o))}u.setTotal(t.data.total),u.setDependNotice(t.data.checkDepend)}}})},afterLoadProducts(e,i){let{html:a,maxPage:r,message:n,filter:s}=e;if(n)return this.modal.find(".woopb-modal-products").html(n),void this.modal.find(".woopb-step-pagination").html("");let d=this.renderPagination(i,r);this.modal.find(".woopb-modal-products").html(a),this.modal.find(".woopb-step-pagination").html(d),s?(this.filters.html(s),t(document.body).trigger("init_price_filter")):this.filters.hide(),this.modal.fadeIn(100),t("html,body").addClass("viwcpb_no_scroll"),o()},loadStepProducts(){let e=t(this),o=t(this).closest(".woopb-step");if(l.currentStep=o.attr("data-step_id"),e.hasClass("woopb-product-edit")){let t=e.closest(".woopb-product");l.replace=t.attr("data-product_id"),l.currentProductQty=t.find(".woopb-product-quantity-value").val()||1}c({data:{_action:"load_step_products",sort_by:l.sortBy},beforeSend:()=>e.woopbLoading(),success(t){e.woopbDisableLoading(),t.success&&u.afterLoadProducts(t.data,1)}})},renderProduct(t,e,o,i,a){let r=s.clone();return r.attr("data-product_id",t),r.find(".woopb-product-thumbnail img").attr("src",i),r.find(".woopb-product-title").text(e),r.find(".woopb-product-quantity-value").val(o),r.find(".woopb-product-price").html(a),r},changeQuantity(){a&&clearTimeout(a);let e=t(this).closest(".woopb-product"),o=t(this).closest(".woopb-step").attr("data-step_id"),i=t(this).val();l.currentStep=o,a=setTimeout((()=>{c({delay:500,data:{_action:"change_quantity",step:o,product_id:e.attr("data-product_id"),quantity:i},success(t){t.success?(i!=t.data.qty?l.setStep(t.data.step):l.setStep(t.data.step,!1),u.setTotal(t.data.total)):l.setStep(l.steps[o])}})}),500)},removeProduct(){let e=t(this),o=t(this).closest(".woopb-product"),i=t(this).closest(".woopb-step").attr("data-step_id");l.currentStep=i,c({delay:500,data:{_action:"remove_product",step:i,product_id:o.attr("data-product_id")},beforeSend(){e.woopbLoading()},success(t){if(t.success){o.fadeOut(500),setTimeout((()=>o.remove()),500);let e=t.data.step,i=!Object.keys(e).length;l.setStep(e,i),u.setTotal(t.data.total),u.setDependNotice(t.data.checkDepend)}e.woopbDisableLoading()}})},addItem(t){u.modalLoading.isOpen||c({data:{_action:"add_item",data:t,replace:l.replace},beforeSend:()=>u.modalLoading.open(),success(t){t.success&&(l.setStep(t.data.step),u.setTotal(t.data.total),u.setDependNotice(t.data.checkDepend),u.closeModal(),u.modalLoading.close(),l.replace="")}})},setDependNotice(e){t(".woopb-depend-notice").html("");for(let o in e){let i=e[o];if(i.length)for(let e of i)t(`.woopb-step[data-step_id=${o}] .woopb-product[data-product_id=${e}] .woopb-depend-notice`).html(`<div class="woopb-depend-notice-text">${_woo_product_builder_params.checkDependNotice}</div>`)}},addSingleItem(e){e.preventDefault(),e.stopImmediatePropagation();let o=t(this).serialize();o+=`&product_id=${t(e.target).find(".woopb-add-to-list-btn").val()}`,u.addItem(o)},selectVariation(e){e.preventDefault(),e.stopImmediatePropagation();let o=t(this).serialize(),i=t(this).find(".variation_id").val(),a=t(this).find("[name=quantity]").val();+l.replace!=+i||+l.currentProductQty!=+a?u.addItem(o):u.closeModal()},changePage(){l.page=t(this).attr("data-page_id"),u.loadProducts()},toggleFilter(){t(".woopb-modal-left").slideToggle()},clearFilterAction(){u.clearFilter(),u.loadProducts()},clearFilter(){l.filterAttributes={},l.minPrice="",l.maxPrice=""},changeSort(){l.sortBy=u.sortForm.val(),u.loadProducts()},loadProducts(e=""){if(u.modalLoading.isOpen)return;let o=l.searchKey,i=l.sortBy,a=l.minPrice,r=l.maxPrice;e||(e=l.page),c({data:{_action:"load_step_products",page:e,search:o,sort_by:i,min_price:a,max_price:r,...l.filterAttributes},beforeSend(){u.modalLoading.open()},success(o){o.success&&u.afterLoadProducts(o.data,e),u.modalLoading.close(),t(".woopb-modal-body").scrollTop(0)}})},search(){a&&clearTimeout(a),l.searchKey=u.searchForm.val(),a=setTimeout((()=>u.loadProducts(1)),1e3)},closeModal(){l.replace="",l.currentProductQty="",u.clearSearch(),u.clearFilter(),t("html,body").removeClass("viwcpb_no_scroll"),u.modal.fadeOut(500)},closeFilter(){u.filters.slideUp()},closeModalByClick(t){t.target===t.currentTarget&&u.closeModal()},renderPagination(t,e){let o="";if(e>0){let i=+t-1,a=+t+1;for(let r=1;r<=e;r++){if(r>1&&r<e&&(r<i||r>a)){r!==a+1&&r!==i-1||(o+='<span class="woopb-page-item" >...</span>');continue}o+=`<span class="woopb-page-item ${+t===r?"woopb-active-page":""}" data-page_id="${r}">${r}</span>`}}return o},addToCart(){let e=t(this);t(".woopb-product-require-notice").remove(),c({data:{_action:"add_to_cart"},beforeSend:()=>e.woopbLoading(),success(o){e.woopbDisableLoading(),o.success?window.location.href=o.data.url:o.data&&o.data.message&&t("#woopb-main").prepend(`<div class="woopb-product-require-notice">${o.data.message}</div>`)}})},getShareLink(){let e=t(this);u.shareLinkInput&&u.shareLinkInput.remove(),c({data:{_action:"get_share_link"},beforeSend:()=>e.woopbLoading(),success(o){if(o.success){let{shareUrl:i}=o.data,a=e.html(),r=t(`<input type="text" class="woopb-share-link-container" value="${i}"/>`);if(u.shareLinkInput=r,i){e.after(r),r.select(),navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1===navigator.userAgent.indexOf("CriOS")&&-1===navigator.userAgent.indexOf("FxiOS")||(document.execCommand("copy"),r.remove(),e.text(_woo_product_builder_params.textCopied))}else e.text(_woo_product_builder_params.textNoUrl);setTimeout((()=>e.html(a)),3e3)}e.woopbDisableLoading()}})},openSendToFriend:()=>u.sendMailPopup.fadeIn(300),closeSendToFriend:()=>u.sendMailPopup.fadeOut(300),clearSearch(){l.searchKey="",u.searchForm.val("")},filterPrice(e){e.preventDefault(),e.stopImmediatePropagation(),u.clearSearch(),l.minPrice=t(this).find("#min_price").val(),l.maxPrice=t(this).find("#max_price").val(),u.loadProducts(1),window.innerWidth<=768&&u.closeFilter()},triggerFilterAttributes(){t(this).find(".woopb-filter-attributes").trigger("click")},filterAttributes(e){e.preventDefault(),e.stopImmediatePropagation(),u.clearSearch();let o=t(this).attr("data-attr_name");l.filterAttributes[o]=t(this).attr("data-attr_value"),u.loadProducts(1),window.innerWidth<=768&&u.closeFilter()},filterRating(e){e.preventDefault(),e.stopImmediatePropagation(),l.filterAttributes.rating_filter=t(this).attr("data-rating"),u.loadProducts(),window.innerWidth<=768&&u.closeFilter()},removeAll(){let e=t(this);c({data:{_action:"remove_all"},beforeSend:()=>e.woopbLoading(),success(t){t.success&&(l.steps={},u.renderEmptySteps(),u.setTotal(t.data.total))},complete:()=>e.woopbDisableLoading()})},print(){l.steps.length&&i(l.steps)},downloadPDF(){let e=t(this);c({data:{_action:"download_pdf"},dataType:"",xhr:function(){let t=new XMLHttpRequest;return t.onreadystatechange=function(){2===t.readyState&&(200===t.status?t.responseType="blob":t.responseType="text")},t},beforeSend:()=>e.woopbLoading(),success(o){let i="ProductBuilder.pdf",a=new Blob([o],{type:"application/octetstream"});if(!!document.documentMode)window.navigator.msSaveBlob(a,i);else{let e=(window.URL||window.webkitURL).createObjectURL(a),o=t(`<a download="${i}" class="no-fade viwcpb-download-pdf" href="${e}"/>`);t(".woopb-tool-buttons").append(o),o[0].click(),setTimeout((function(){t(".viwcpb-download-pdf").remove()}),150)}e.woopbDisableLoading()}})}};u.init()}else{function h(t,e){const o=t=>decodeURIComponent(t.replace(/\+/g,"%20")),i=String(t).replace(/^&/,"").replace(/&$/,"").split("&"),a=i.length;let r,n,s,d,p,c,l,u,h,w,b,m,_;const f="undefined"!=typeof window?window:global;f.$locutus=f.$locutus||{};const g=f.$locutus;for(g.php=g.php||{},e||(e=f),r=0;r<a&&(u=i[r].split("="),h=o(u[0]),w=u.length<2?"":o(u[1]),!(h.includes("__proto__")||h.includes("constructor")||h.includes("prototype")));r++){for(;" "===h.charAt(0);)h=h.slice(1);if(h.indexOf("\0")>-1&&(h=h.slice(0,h.indexOf("\0"))),h&&"["!==h.charAt(0)){for(m=[],b=0,n=0;n<h.length;n++)if("["!==h.charAt(n)||b){if("]"===h.charAt(n)&&b&&(m.length||m.push(h.slice(0,b-1)),m.push(h.substr(b,n-b)),b=0,"["!==h.charAt(n+1)))break}else b=n+1;for(m.length||(m=[h]),n=0;n<m[0].length&&(l=m[0].charAt(n)," "!==l&&"."!==l&&"["!==l||(m[0]=m[0].substr(0,n)+"_"+m[0].substr(n+1)),"["!==l);n++);for(c=e,n=0,_=m.length;n<_;n++){if(h=m[n].replace(/^['"]/,"").replace(/['"]$/,""),p=c,(""===h||" "===h)&&0!==n){for(d in s=-1,c)c.hasOwnProperty(d)&&+d>s&&d.match(/^\d+$/g)&&(s=+d);h=s+1}Object(c[h])!==c[h]&&(c[h]={}),c=c[h]}p[h]=w}}}"undefined"!=typeof woodmartThemeModule&&(woodmart_settings.ajax_add_to_cart=!1),window.woo_product_builder={init:function(){this.sort_by(),this.review_popup(),this.review_total_price(),this.events(),this.mobileControlBar(),this.getShortShareLink(),this.imgLightBox(),this.pcFilterBar(),this.search(),this.print(),this.downloadPDF()},sort_by:function(){jQuery(".woopb-sort-by-button").on("change",(function(){let e=jQuery(this).val();t(".woopb-search-products-input").val()&&(e+="&name_filter="+t(".woopb-search-products-input").val()+"&ppaged="+(t(".woopb-search-pagination").data("page_id")||1)),window.location.href=e}))},review_popup:function(){jQuery("#vi_wpb_sendtofriend").on("click",(function(){woo_product_builder.review_popup_show()})),jQuery("#vi_wpb_popup_email .vi-wpb_overlay, #vi_wpb_popup_email .woopb-close").on("click",(function(){woo_product_builder.review_popup_hide()}))},review_popup_show:function(){jQuery("html").css({overflow:"hidden"}),jQuery("#vi_wpb_popup_email").fadeIn(500)},review_popup_hide:function(){jQuery("#vi_wpb_popup_email").fadeOut(300),jQuery("html").css({overflow:"inherit"})},review_total_price:function(){jQuery(".woopb-qty-input").on("change",(function(){var t=parseInt(jQuery(this).val()),e=parseFloat(jQuery(this).closest("td").attr("data-price")),o=jQuery(this).closest("tr").find(".woopb-total .woocommerce-Price-amount").contents();if(e>0){var i=t*e;o.filter((function(t){return 3==this.nodeType})).each((function(){this.textContent=i}))}}))},events:function(){jQuery(".woopb-share-link").on("click",(function(){jQuery(this).select(),document.execCommand("copy")}))},pcFilterBar(){t(".woopb-pc-filters-control").on("click",(function(){t(".woocommerce-product-builder-sidebar-outer").slideToggle()}))},mobileControlBar(){let e=jQuery(".woopb-overlay"),o=jQuery(".vi-wpb-wrapper .woopb-steps"),i=jQuery(".woopb-steps-detail-btn"),a=jQuery(".woopb-mobile-filters-control"),r=jQuery(".woopb-close-modal"),n="modern"===_woo_product_builder_params.templateStyle?jQuery(".woocommerce-product-builder-sidebar-outer"):jQuery(".woocommerce-product-builder-sidebar"),s=t(".woocommerce-product-builder-right");s.length&&(o=s);let d=t(".woocommerce-product-builder-left");function p(){n.hide("slow"),o.hide("show"),e.hide(),r.hide()}d.length&&(n=d),i.on("click",(function(){o.slideToggle(),n.fadeOut()})),i.on("mouseup",(function(){"none"===o.css("display")?e.show("slow"):e.hide(),"none"===o.css("display")?r.show():r.hide()})),a.on("click",(function(){n.slideToggle(),o.fadeOut()})),a.on("mouseup",(function(){"none"===n.css("display")?e.show("slow"):e.hide(),"none"===n.css("display")?r.show():r.hide()})),e.on("click",(function(){p()})),r.on("click",(function(){p()}))},getShortShareLink(){let e=t('<div class="woopb-short-share-link-inner">\n                                        <span class="woopb-short-share-link-text"></span>\n                                        <i class="dashicons dashicons-admin-page woopb-copy-short-link"></i>\n                                    </div>');t(".vi-wpb-wrapper").on("click","#vi-wpb-get-short-share-link:not(.woopb-loading)",(function(){let o=t(this);t.ajax({url:_woo_product_builder_params.ajax_url,type:"post",dataType:"json",data:{action:"woopb_get_short_share_link",nonce:t("#_nonce").val(),woopb_id:t("[name=woopb_id]").val()},beforeSend:function(){o.addClass("woopb-loading")},success:function(o){o.success&&o.data&&(t(".woopb-share").before(e),e.find(".woopb-short-share-link-text").text(o.data),e.on("click",(function(){let e=t(this).find(".woopb-short-share-link-text").get(0);if(window.getSelection){let t=window.getSelection(),o=document.createRange();o.selectNode(e),t.removeAllRanges(),t.addRange(o),document.execCommand("copy")}else if(document.selection){let t=document.body.createTextRange();t.moveToElementText(e),t.select().createTextRange(),document.execCommand("copy")}})))},complete(){o.removeClass("woopb-loading")}})}))},imgLightBox(){t(".woopb-product-image").on("click","a",(function(t){}))},search(){let e=null;t(".woopb-search-products-input").on("keyup",(function(){let o=t(this).val();e&&clearTimeout(e),e=setTimeout((function(){o?woo_product_builder.ajaxSearch(o,1):(t(".woopb-products, .woopb-products-pagination").show(),t(".woopb-products-searched").html(" "),t(".woopb-search-pagination").html(""))}),1e3)})),t(".woopb-search-pagination").on("click",".woopb-page:not(.woopb-active)",(function(){let e=t(this).data("page_id"),o=t(".woopb-search-products-input").val();e&&woo_product_builder.ajaxSearch(o,e)}))},ajaxSearch(e,i){let a=t(".woopb-search-products-input"),r={},n=t("form.cart").attr("action"),s=t(".woopb-sort-by-button").val().split("=")[1].split("&")[0]||"title_az";h(n,r);let d={action:"woopb_search_product_in_step",search:e,sort_by:s,post_id:a.attr("data-post"),step:a.attr("data-step"),form_action:n,referer:t("input[name=_wp_http_referer]").val(),nonce:t("#_nonce").val(),paged:i};if(Object.keys(r).length)for(let t in r)-1!==t.indexOf("filter_")&&(d[t]=r[t]);t.ajax({url:_woo_product_builder_params.ajax_url,type:"post",data:d,success:function(e){if(e.success){let{products:i,pagination:a}=e.data;t(".woopb-products-searched").html(i),t(".woopb-search-pagination").html(a),o(),t(".woopb-products, .woopb-products-pagination").hide(),t(".woocommerce-product-gallery").each((function(){t(this).trigger("wc-product-gallery-before-init",[this,wc_single_product_params]),t(this).wc_product_gallery(wc_single_product_params),t(this).trigger("wc-product-gallery-after-init",[this,wc_single_product_params])}))}},error:function(t){},beforeSend:function(){t(".woopb-spinner-inner").removeClass("woopb-hidden")},complete:function(){t(".woopb-spinner-inner").addClass("woopb-hidden")}})},print(){t("#woopb-print").on("click",(function(){i(_woo_product_builder_params.stepsData)}))},downloadPDF(){t(".vi-wpb-wrapper").on("click","#woopb-download-pdf:not(.woopb-loading)",(function(){let e=t(this);t.ajax({url:_woo_product_builder_params.ajax_url,type:"post",data:{action:"woopb_action",nonce:_woo_product_builder_params.nonce,woopb_id:_woo_product_builder_params.post_id,_action:"download_pdf"},xhr:function(){let t=new XMLHttpRequest;return t.onreadystatechange=function(){2===t.readyState&&(200===t.status?t.responseType="blob":t.responseType="text")},t},beforeSend:()=>e.woopbLoading(),success(o){let i="ProductBuilder.pdf",a=new Blob([o],{type:"application/octetstream"});if(!!document.documentMode)window.navigator.msSaveBlob(a,i);else{let e=(window.URL||window.webkitURL).createObjectURL(a),o=t(`<a download="${i}" href="${e}"/>`),r=t("body");r.append(o),o[0].click(),r.remove(o)}e.woopbDisableLoading()},error(t){console.log(t)}})}))}},woo_product_builder.init()}}));